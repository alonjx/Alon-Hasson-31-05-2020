{"map":{"version":3,"sources":["static/js/main.272498c3.chunk.js"],"names":["this","push","33","module","exports","__webpack_require__","46","47","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","assertThisInitialized","classCallCheck","createClass","inherits","createSuper","slicedToArray","AppDispatcher","dist","dist_default","stores_MessageStore","_EventEmitter","Object","MessageStore","_super","_this","call","dispatchToken","register","dispatcherCallback","bind","key","value","eventName","emit","messages","user_id","filtered","filter","obj","predicate","fromEntries","entries","_ref","_ref2","receiver","_ref3","_ref4","sender","action","type","handleNotification","variant","content","emitChange","callback","on","removeListener","addNotification","message","insert","container","animationIn","animationOut","dismiss","duration","EventEmitter","jquery","jquery_default","actions_MessageActions","MessageActions","subject","a","ajax","dataType","url","data","success","response","dispatch","responseText","error","jqXHR","textStatus","errorThrown","alert","id","message_id","defineProperty","Modal","Button","components_AddWindow","_React$Component","AddWindow","handleClose","setState","show","handleShow","state","handleChange","onSubmit","cleanForm","e","preventDefault","length","sendMessage","props","target","addChangeListener","createElement","className","onClick","onHide","Header","closeButton","Title","Body","onChange","maxlength","placeholder","Footer","Component","components_MessageMenuTab","MessageMenuTab","onRemoveConfirm","onRemove","size","creation_date","app_MessageView","MessageView","apply","arguments","app","_React$Component2","App","_super2","selected_message","message_type","sent_messages","received_messages","onChangeMessages","messageTabClick","onRemoveMessage","displaySentMessages","changeMessageType","displayReceivedMessages","onMessageAction","loadData","getAllReceived","getAllSent","t","removeChangeListener","i","removeMessage","_this2","listItems","keys","map","userIdChange","concat","href","Boolean","window","location","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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"},"code":"(this[\"webpackJsonpsimple-message\"]=this[\"webpackJsonpsimple-message\"]||[]).push([[0],{33:function(e,t,a){e.exports=a(47)},46:function(e,t,a){},47:function(e,t,a){\"use strict\";a.r(t);var s=a(0),n=a.n(s),i=a(13),r=a.n(i),c=(a(38),a(5)),o=a(6),l=a(7),u=a(12),h=a(11),m=a(24),d=new(a(26).Dispatcher),g=a(19),v=a.n(g),p=new(function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).dispatchToken=d.register(e.dispatcherCallback.bind(Object(c.a)(e))),e}return Object(l.a)(a,[{key:\"emitChange\",value:function(e){this.emit(e)}},{key:\"getAll\",value:function(){return this.messages}},{key:\"getAllReceived\",value:function(e){var t={};return this.messages&&(Object.filter=function(e,t){return Object.fromEntries(Object.entries(e).filter(t))},t=Object.filter(this.messages,(function(t){var a=Object(m.a)(t,2);a[0];return a[1].receiver===e}))),t}},{key:\"getAllSent\",value:function(e){var t={};return this.messages&&(Object.filter=function(e,t){return Object.fromEntries(Object.entries(e).filter(t))},t=Object.filter(this.messages,(function(t){var a=Object(m.a)(t,2);a[0];return a[1].sender===e}))),t}},{key:\"dispatcherCallback\",value:function(e){switch(e.type){case\"MESSAGES_FETCHED\":this.messages=e.messages;break;case\"NOTIFICATION\":this.handleNotification(e.variant,e.content)}return this.emitChange(e.type),!0}},{key:\"addChangeListener\",value:function(e,t){this.on(e,t)}},{key:\"removeChangeListener\",value:function(e,t){this.removeListener(e,t)}},{key:\"handleNotification\",value:function(e,t){g.store.addNotification({message:t,type:e,insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:2500}})}}]),a}(a(42).EventEmitter)),E=a(21),b=a.n(E),f=new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:\"sendMessage\",value:function(e,t,a,s){b.a.ajax({type:\"POST\",dataType:\"json\",url:\"/send\",data:{sender:e,receiver:t,subject:a,content:s},success:function(e){\"done\"===e?(d.dispatch({type:\"MESSAGE_SENT\"}),d.dispatch({type:\"NOTIFICATION\",variant:\"success\",content:\"Message Sent!\"})):d.dispatch({type:\"danger\",value:\"Error: \"+e.responseText})},error:function(e,t,a){alert(\"Error, status = \"+t+\", error thrown: \"+a)}})}},{key:\"removeMessage\",value:function(e){b.a.ajax({type:\"POST\",dataType:\"json\",url:\"/delete\",data:{message_id:e},success:function(e){\"done\"===e?(d.dispatch({type:\"MESSAGE_DELETED\"}),d.dispatch({type:\"NOTIFICATION\",variant:\"success\",content:\"Message deleted!\"})):d.dispatch({type:\"NOTIFICATION\",variant:\"danger\",content:\"Error: \"+e})},error:function(e,t,a){alert(\"Error, status = \"+t+\", error thrown: \"+a)}})}},{key:\"loadData\",value:function(e){b.a.ajax({type:\"POST\",dataType:\"json\",url:\"/messages\",data:{user_id:e},success:function(e){d.dispatch({type:\"MESSAGES_FETCHED\",messages:e})},error:function(e,t,a){alert(\"Error, status = \"+t+\", error thrown: \"+a)}})}}]),e}()),y=a(22),C=a(49),S=a(50),j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleClose=function(){return e.setState({show:!1})},e.handleShow=function(){return e.setState({show:!0})},e.state={receiver:\"\",subject:\"\",content:\"\",show:!1,error:\"\"},e.handleChange=e.handleChange.bind(Object(c.a)(e)),e.onSubmit=e.onSubmit.bind(Object(c.a)(e)),e.cleanForm=e.cleanForm.bind(Object(c.a)(e)),e}return Object(l.a)(a,[{key:\"onSubmit\",value:function(e){e.preventDefault(),\"\"===this.state.receiver?this.setState({error:\"Receiver ID must not be empty\"}):\"\"===this.state.subject?this.setState({error:\"Subject must not be empty\"}):this.state.content.length<5?this.setState({error:\"Message content must contain at least 5 chars\"}):f.sendMessage(this.props.sender,this.state.receiver,this.state.subject,this.state.content)}},{key:\"cleanForm\",value:function(){this.handleClose(),this.setState({receiver:\"\",subject:\"\",content:\"\",error:\"\"})}},{key:\"handleChange\",value:function(e){this.setState(Object(y.a)({},e.target.id,e.target.value))}},{key:\"componentDidMount\",value:function(){p.addChangeListener(\"MESSAGE_SENT\",this.cleanForm)}},{key:\"render\",value:function(){return n.a.createElement(\"div\",null,n.a.createElement(\"div\",{className:\"fa fa-plus-circle fa-4x\",variant:\"primary\",onClick:this.handleShow}),n.a.createElement(C.a,{show:this.state.show,onHide:this.handleClose},n.a.createElement(C.a.Header,{closeButton:!0},n.a.createElement(C.a.Title,null,\"New Message\")),n.a.createElement(C.a.Body,null,n.a.createElement(\"form\",null,n.a.createElement(\"input\",{type:\"text\",onChange:this.handleChange,maxlength:\"16\",id:\"receiver\",className:\"form-control mb-3\",placeholder:\"Receiver ID\",value:this.state.receiver}),n.a.createElement(\"input\",{type:\"text\",onChange:this.handleChange,maxlength:\"30\",id:\"subject\",className:\"form-control mb-3\",placeholder:\"Subject\",value:this.state.subject}),n.a.createElement(\"textarea\",Object(y.a)({className:\"form-control mb-3\",onChange:this.handleChange,id:\"content\",value:this.state.content,placeholder:\"Message content...\"},\"id\",\"content\"))),n.a.createElement(\"div\",{className:\"float-left text-danger\"},this.state.error&&\"* \"+this.state.error)),n.a.createElement(C.a.Footer,null,n.a.createElement(S.a,{variant:\"secondary\",onClick:this.handleClose},\"Close\"),n.a.createElement(S.a,{variant:\"primary\",onClick:this.onSubmit},\"Send\"))))}}]),a}(n.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).onClick=s.onClick.bind(Object(c.a)(s)),s.onRemoveConfirm=s.onRemoveConfirm.bind(Object(c.a)(s)),s.state={show:!1},s.handleClose=function(){return s.setState({show:!1})},s.handleShow=function(){return s.setState({show:!0})},s}return Object(l.a)(a,[{key:\"onClick\",value:function(){this.props.onClick(this.props.id)}},{key:\"onRemoveConfirm\",value:function(){this.props.onRemove(this.props.id)}},{key:\"render\",value:function(){return n.a.createElement(\"li\",{className:\"list-group-item message-tab\",onClick:this.onClick},n.a.createElement(C.a,{show:this.state.show,onHide:this.handleClose,size:\"sm\"},n.a.createElement(C.a.Header,{closeButton:!0},n.a.createElement(C.a.Title,null,\"Are you sure?\")),n.a.createElement(C.a.Body,null,n.a.createElement(S.a,{variant:\"secondary\",onClick:this.handleClose},\"Cancel\"),\" \",n.a.createElement(S.a,{variant:\"primary\",onClick:this.onRemoveConfirm},\"Yes\"))),n.a.createElement(\"div\",{className:\"data p-2\"},this.props.data.subject,n.a.createElement(\"div\",{className:\"date\"},this.props.data.creation_date)),n.a.createElement(\"div\",{className:\"icon\"},n.a.createElement(\"i\",{className:\"fa fa-remove\",onClick:this.handleShow})))}}]),a}(n.a.Component),k=(a(45),a(46),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:\"render\",value:function(){return n.a.createElement(\"div\",{className:\"card p-5\"},n.a.createElement(\"header\",null,n.a.createElement(\"h3\",null,this.props.data.subject)),n.a.createElement(\"div\",{className:\"\"},n.a.createElement(\"h6\",null,\"From: \",this.props.data.sender),n.a.createElement(\"h6\",null,\"to: \",this.props.data.receiver)),n.a.createElement(\"br\",null),n.a.createElement(\"div\",null,n.a.createElement(\"h5\",null,this.props.data.content)))}}]),a}(n.a.Component)),M=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={user_id:\"aaa@gmail.com\",selected_message:\"\",message_type:\"received\",messages:{},sent_messages:{},received_messages:{}},s.onChangeMessages=s.onChangeMessages.bind(Object(c.a)(s)),s.messageTabClick=s.messageTabClick.bind(Object(c.a)(s)),s.onRemoveMessage=s.onRemoveMessage.bind(Object(c.a)(s)),s.displaySentMessages=s.changeMessageType.bind(Object(c.a)(s),\"sent\"),s.displayReceivedMessages=s.changeMessageType.bind(Object(c.a)(s),\"received\"),s.onMessageAction=s.onMessageAction.bind(Object(c.a)(s)),s}return Object(l.a)(a,[{key:\"onMessageAction\",value:function(){f.loadData(this.state.user_id)}},{key:\"onChangeMessages\",value:function(){\"received\"===this.state.message_type?this.setState({messages:p.getAllReceived(this.state.user_id),selected_message:\"\"}):this.setState({messages:p.getAllSent(this.state.user_id),selected_message:\"\"})}},{key:\"changeMessageType\",value:function(e){\"received\"===e&&\"received\"!==this.state.message_type?this.setState({selected_message:\"\",messages:p.getAllReceived(this.state.user_id),message_type:\"received\"}):\"sent\"===e&&\"sent\"!==this.state.message_type&&this.setState({selected_message:\"\",messages:p.getAllSent(this.state.user_id),message_type:\"sent\"})}},{key:\"componentWillUnmount\",value:function(){p.removeChangeListener(\"MESSAGES_FETCHED\",this.onChangeMessages),p.removeChangeListener(\"MESSAGE_DELETED\",this.onMessageAction),p.removeChangeListener(\"MESSAGE_SENT\",this.onMessageAction)}},{key:\"componentDidMount\",value:function(){p.addChangeListener(\"MESSAGES_FETCHED\",this.onChangeMessages),p.addChangeListener(\"MESSAGE_DELETED\",this.onMessageAction),p.addChangeListener(\"MESSAGE_SENT\",this.onMessageAction),f.loadData(this.state.user_id)}},{key:\"userIdChange\",value:function(e){this.setState({user_id:e.target.value}),f.loadData(e.target.value)}},{key:\"messageTabClick\",value:function(e){this.setState({selected_message:e})}},{key:\"onRemoveMessage\",value:function(e){f.removeMessage(e)}},{key:\"render\",value:function(){var e=this,t=Object.keys(this.state.messages).map((function(t){return n.a.createElement(O,{onClick:e.messageTabClick,onRemove:e.onRemoveMessage,key:t,id:t,data:e.state.messages[t]})}));return n.a.createElement(\"div\",{className:\"wrapper\"},n.a.createElement(v.a,null),n.a.createElement(\"nav\",{id:\"sidebar\",className:\"d-flex flex-column\"},n.a.createElement(\"li\",{className:\"list-group-item\"},\"Who are you? \",n.a.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"userid\",onChange:this.userIdChange.bind(this),value:this.state.user_id})),n.a.createElement(\"div\",{className:\"list-group list-group-horizontal d-flex\"},n.a.createElement(\"button\",{id:\"receivedbtn\",onClick:this.displayReceivedMessages,className:\"list-group-item flex-fill rounded-0 \".concat(\"received\"===this.state.message_type?\"active\":\"\")},\" Received\",n.a.createElement(\"span\",{className:\"badge\"},Object.keys(p.getAllReceived(this.state.user_id)).length)),n.a.createElement(\"button\",{href:\"#\",id:\"sentbtn\",onClick:this.displaySentMessages,className:\"list-group-item flex-fill rounded-0 \".concat(\"sent\"===this.state.message_type?\"active\":\"\")},\" Sent\",n.a.createElement(\"span\",{className:\"badge\"},Object.keys(p.getAllSent(this.state.user_id)).length))),t),n.a.createElement(\"div\",{className:\"content\"},this.state.selected_message?n.a.createElement(k,{data:this.state.messages[this.state.selected_message]}):n.a.createElement(\"div\",{className:\"banner\"},\"Simple Message\"),n.a.createElement(j,{sender:this.state.user_id})))}}]),a}(n.a.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(M,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);","extractedComments":[]}